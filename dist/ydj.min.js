!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ydj=t(require("react")):e.ydj=t(e.react)}(this,(function(e){return(()=>{"use strict";var t={964:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dispatch=t.removeStore=t.getStore=t.addStore=void 0;const r=new Map;t.addStore=(e,t,o)=>{let i=r.get(e);if(i)s(i,t);else if(i="function"!=typeof e?e:new e,r.set(e,i),s(i,t),!i.initialized){const e=i.init?.();return e?e.then((()=>(i&&(void 0!==o&&void 0===i.state&&(i.state=o),i.initialized=!0),i?.state))):(void 0!==o&&void 0===i.state&&(i.state=o),i.initialized=!0,i.state)}return i.state},t.getStore=e=>r.get(e);const o={},s=(e,t)=>{for(let r in e.actions){o[r]||(o[r]={store:e,setStates:[]});const{store:s,setStates:i}=o[r];if(e!==s)throw new Error("store actions conflict");i.includes(t)||i.push(t)}};t.removeStore=(e,t)=>{Object.keys(e.actions).forEach((r=>{const{store:s,setStates:i}=o[r];if(e===s){const e=i.filter((e=>e!==t));o[r].setStates=e}}))};const i=(e,t)=>{e.forEach((e=>{e(t)}))},n=e=>{e&&t.dispatch(e.action,e.data)};t.dispatch=(e,t)=>{if(o[e]){const{store:r,setStates:s}=o[e],a=r.actions[e].call(r,t);a?a instanceof Promise?a.then((e=>{i(s,r.state),n(e)})):(i(s,r.state),n(a)):i(s,r.state)}}},339:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Store=void 0,t.Store=class{constructor(){this.initialized=!1}setState(e){this.state!==e&&(this.state=e)}}},137:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useStore=void 0;const o=r(297),s=r(964);t.useStore=(e,t)=>{const[r,i]=o.useState(t);return o.useEffect((()=>{const r=s.addStore(e,i,t);return r instanceof Promise?r.then((e=>{i(e)})):i(r),()=>{const t=s.getStore(e);t&&s.removeStore(t,i)}}),[]),r}},297:t=>{t.exports=e}},r={};function o(e){var s=r[e];if(void 0!==s)return s.exports;var i=r[e]={exports:{}};return t[e](i,i.exports,o),i.exports}var s={};return(()=>{var e=s;Object.defineProperty(e,"__esModule",{value:!0}),e.dispatch=e.Store=e.useStore=void 0;var t=o(137);Object.defineProperty(e,"useStore",{enumerable:!0,get:function(){return t.useStore}});var r=o(339);Object.defineProperty(e,"Store",{enumerable:!0,get:function(){return r.Store}});var i=o(964);Object.defineProperty(e,"dispatch",{enumerable:!0,get:function(){return i.dispatch}})})(),s})()}));